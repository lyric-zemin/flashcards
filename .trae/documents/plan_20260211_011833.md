# 添加登录页与注册页实现计划

## 前端实现

### 1. 创建登录页面组件
- **页面结构**：包含用户名、密码输入框，登录按钮，以及跳转到注册页的链接
- **表单验证**：实现基本的表单验证逻辑
- **登录逻辑**：调用后端登录API，处理登录成功和失败的情况
- **状态管理**：使用localStorage存储用户登录状态

### 2. 创建注册页面组件
- **页面结构**：包含用户名、密码、确认密码输入框，注册按钮，以及跳转到登录页的链接
- **表单验证**：实现密码强度检查和确认密码验证
- **注册逻辑**：调用后端注册API，处理注册成功和失败的情况

### 3. 添加路由配置
- 在App.tsx中添加登录和注册页面的路由
- 配置路由守卫，确保只有登录后才能访问个人中心等需要认证的页面

### 4. 修改首页
- 在首页头部添加登录/注册的入口按钮
- 根据用户登录状态显示不同的头部内容（登录/注册按钮或个人中心入口）

### 5. 修改个人中心页面
- 添加用户登录状态检查
- 如果用户未登录，重定向到登录页面

## 后端实现

### 1. 扩展用户模型
- 添加密码字段和密码哈希功能
- 实现密码加密和验证逻辑

### 2. 实现认证API接口
- **登录接口**：验证用户名和密码，返回用户信息
- **注册接口**：创建新用户，处理用户名重复等情况
- **登出接口**：处理用户登出逻辑
- **获取当前用户信息接口**：验证用户登录状态，返回用户信息

### 3. 添加认证中间件
- 实现JWT或session-based认证
- 保护需要认证的API接口

## 实施步骤

1. **后端准备**：
   - 扩展用户模型，添加密码字段
   - 实现认证相关的API接口
   - 添加认证中间件

2. **前端实现**：
   - 创建登录页面组件
   - 创建注册页面组件
   - 添加路由配置
   - 修改首页和个人中心页面

3. **测试和优化**：
   - 测试登录和注册功能
   - 测试认证保护的API接口
   - 优化用户体验和错误处理

## 技术要点

1. **密码安全**：使用bcrypt等库进行密码哈希，确保密码安全存储
2. **状态管理**：使用localStorage存储用户登录状态，实现持久化登录
3. **路由守卫**：实现前端路由守卫，保护需要认证的页面
4. **错误处理**：完善的错误处理和用户反馈机制
5. **用户体验**：流畅的登录和注册流程，清晰的错误提示

## 预期效果

- 用户可以通过登录页登录已有账号
- 用户可以通过注册页创建新账号
- 登录后可以访问个人中心等需要认证的页面
- 未登录时，访问需要认证的页面会自动跳转到登录页
- 登录状态会在页面刷新后保持
- 提供清晰的错误提示和用户反馈